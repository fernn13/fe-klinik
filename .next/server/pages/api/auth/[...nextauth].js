"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("cookie");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].js":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].js ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler),\n/* harmony export */   \"getNextAuthOptions\": () => (/* binding */ getNextAuthOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utilities_encrypt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utilities/encrypt */ \"(api)/./utilities/encrypt.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_4__]);\naxios__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nconst getNextAuthOptions = (req, res)=>{\n    const authOptions = {\n        providers: [\n            next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n                // Credentials provider configuration\n                name: \"credentials\",\n                async authorize (credentials) {\n                    //# versi awal\n                    // const result = await fetch(`http://127.0.0.1:8000/api/login`, {\n                    //   method: 'POST',\n                    //   body: JSON.stringify({email:credentials?.email,password:credentials?.password}),\n                    //   headers: { \"Content-Type\": \"application/json\" }\n                    // });\n                    try {\n                        const result = await (0,axios__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n                            method: \"post\",\n                            url: `${process.env.API_URL}/api/login`,\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            data: JSON.stringify({\n                                email: credentials?.email,\n                                password: credentials?.password,\n                                aslogin: credentials?.aslogin\n                            })\n                        });\n                        const user = await result.data;\n                        //#versi awal retrieve data\n                        // const user = await result.json()\n                        if (user?.name) {\n                            const encToken = (0,_utilities_encrypt__WEBPACK_IMPORTED_MODULE_3__.encrypt)(user.token);\n                            const token_encrypt = encToken.encryptedText + \"/\" + encToken.iv;\n                            const cookies = (0,cookie__WEBPACK_IMPORTED_MODULE_2__.serialize)(\"_A2F\", token_encrypt, {\n                                httpOnly: true,\n                                secure: false,\n                                sameSite: \"lax\",\n                                path: \"/\",\n                                expires: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000) // Contoh: kedaluwarsa dalam 7 hari\n                            });\n                            res.setHeader(\"Set-Cookie\", cookies);\n                            //  let menus = await listingMenu(JSON.stringify(user.menu));\n                            user.menu = user?.menu;\n                            //  let menuArr = [];\n                            //  menuArr = user.menu.map((val)=>{\n                            //     let enkripsi = encrypt(val.to);\n                            //     let resEncript =  enkripsi.encryptedText+\"/\"+enkripsi.iv;\n                            //     return {\n                            //       to:resEncript\n                            //     }\n                            //  });\n                            //  user.menu = menuArr;\n                            //  const rr = JSON.stringify(user.role);\n                            //  const encryptRole = encrypt(rr);\n                            //  user.role = encryptRole.encryptedText+\"/\"+encryptRole.iv;\n                            return user;\n                        }\n                        throw new Error(user.error || \"Unknown Error\");\n                    } catch (error) {\n                        // Menangkap dan melempar ulang pesan error dari respons API\n                        const errorMessage = error.response?.data?.message || error.message || \"Login failed\";\n                        throw new Error(errorMessage);\n                    }\n                }\n            })\n        ],\n        pages: {\n            signIn: \"/login\",\n            error: \"/login\",\n            signOut: \"/login\"\n        },\n        cookies: {\n            sessionToken: {\n                name: `_A2R`,\n                options: {\n                    httpOnly: true,\n                    sameSite: \"lax\",\n                    path: \"/\",\n                    secure: false\n                }\n            }\n        },\n        callbacks: {\n            //parameter user berasal dari const user di atas\n            async jwt ({ token , account , user  }) {\n                // Persist the OAuth access_token and or the user id to the token right after signin\n                // if (account) {\n                //   token.token = user.token\n                // }\n                if (user) {\n                    token.userRole = user.role;\n                    token.menu = user.menu;\n                }\n                return token;\n            },\n            async session ({ session , token , user  }) {\n                // Send properties to the client, like an access_token and user id from a provider.\n                // session.user.token = token.token\n                // session.user.role = token.role\n                session.user.userRole = token.userRole;\n                session.user.menu = token.menu;\n                return session;\n            }\n        }\n    };\n    return authOptions;\n};\nasync function handler(req, res) {\n    return await next_auth__WEBPACK_IMPORTED_MODULE_0___default()(req, res, getNextAuthOptions(req, res));\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDaUM7QUFDL0I7QUFDK0I7QUFDeEM7QUFFbkIsTUFBTU0scUJBQXFCLENBQUNDLEtBQUtDLE1BQVE7SUFDNUMsTUFBTUMsY0FBYztRQUNoQkMsV0FBVztZQUNQVCxzRUFBbUJBLENBQUM7Z0JBQ2hCLHFDQUFxQztnQkFDckNVLE1BQU07Z0JBRU4sTUFBTUMsV0FBVUMsV0FBVyxFQUFFO29CQUN6QixjQUFjO29CQUNkLGtFQUFrRTtvQkFDbEUsb0JBQW9CO29CQUNwQixxRkFBcUY7b0JBQ3JGLG9EQUFvRDtvQkFDcEQsTUFBTTtvQkFFTixJQUFJO3dCQUNBLE1BQU1DLFNBQVMsTUFBTVQsaURBQUtBLENBQUM7NEJBQ3ZCVSxRQUFROzRCQUNSQyxLQUFLLENBQUMsRUFBRUMsUUFBUUMsR0FBRyxDQUFDQyxPQUFPLENBQUMsVUFBVSxDQUFDOzRCQUN2Q0MsU0FBUztnQ0FBRSxnQkFBZ0I7NEJBQW1COzRCQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dDQUFFQyxPQUFPWCxhQUFhVztnQ0FBT0MsVUFBVVosYUFBYVk7Z0NBQVVDLFNBQVNiLGFBQWFhOzRCQUFRO3dCQUNySDt3QkFFQSxNQUFNQyxPQUFPLE1BQU1iLE9BQU9PLElBQUk7d0JBQzlCLDJCQUEyQjt3QkFDM0IsbUNBQW1DO3dCQUNuQyxJQUFJTSxNQUFNaEIsTUFBTTs0QkFDWixNQUFNaUIsV0FBV3pCLDJEQUFPQSxDQUFDd0IsS0FBS0UsS0FBSzs0QkFDbkMsTUFBTUMsZ0JBQWdCRixTQUFTRyxhQUFhLEdBQUcsTUFBTUgsU0FBU0ksRUFBRTs0QkFFaEUsTUFBTUMsVUFBVS9CLGlEQUFTQSxDQUFDLFFBQVE0QixlQUFlO2dDQUM3Q0ksVUFBVSxJQUFJO2dDQUNkQyxRQUFRLEtBQUs7Z0NBQ2JDLFVBQVU7Z0NBQ1ZDLE1BQU07Z0NBQ05DLFNBQVMsSUFBSUMsS0FBS0EsS0FBS0MsR0FBRyxLQUFLLElBQUksS0FBSyxLQUFLLEtBQUssTUFBTSxtQ0FBbUM7NEJBQy9GOzRCQUVBaEMsSUFBSWlDLFNBQVMsQ0FBQyxjQUFjUjs0QkFFNUIsNkRBQTZEOzRCQUM3RE4sS0FBS2UsSUFBSSxHQUFHZixNQUFNZTs0QkFDbEIscUJBQXFCOzRCQUNyQixvQ0FBb0M7NEJBQ3BDLHNDQUFzQzs0QkFDdEMsZ0VBQWdFOzRCQUNoRSxlQUFlOzRCQUNmLHNCQUFzQjs0QkFDdEIsUUFBUTs0QkFDUixPQUFPOzRCQUNQLHdCQUF3Qjs0QkFFeEIseUNBQXlDOzRCQUN6QyxvQ0FBb0M7NEJBQ3BDLDZEQUE2RDs0QkFDN0QsT0FBT2Y7d0JBQ1gsQ0FBQzt3QkFFRCxNQUFNLElBQUlnQixNQUFNaEIsS0FBS2lCLEtBQUssSUFBSSxpQkFBaUI7b0JBQ25ELEVBQUUsT0FBT0EsT0FBTzt3QkFDWiw0REFBNEQ7d0JBQzVELE1BQU1DLGVBQWVELE1BQU1FLFFBQVEsRUFBRXpCLE1BQU0wQixXQUFXSCxNQUFNRyxPQUFPLElBQUk7d0JBQ3ZFLE1BQU0sSUFBSUosTUFBTUUsY0FBYztvQkFDbEM7Z0JBQ0o7WUFDSjtTQUNIO1FBQ0RHLE9BQU87WUFDSEMsUUFBUTtZQUNSTCxPQUFPO1lBQ1BNLFNBQVM7UUFDYjtRQUNBakIsU0FBUztZQUNMa0IsY0FBYztnQkFDVnhDLE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBQ1p5QyxTQUFTO29CQUNMbEIsVUFBVSxJQUFJO29CQUNkRSxVQUFVO29CQUNWQyxNQUFNO29CQUNORixRQUFRLEtBQUs7Z0JBQ2pCO1lBQ0o7UUFDSjtRQUNBa0IsV0FBVztZQUNQLGdEQUFnRDtZQUNoRCxNQUFNQyxLQUFJLEVBQUV6QixNQUFLLEVBQUUwQixRQUFPLEVBQUU1QixLQUFJLEVBQUUsRUFBRTtnQkFDaEMsb0ZBQW9GO2dCQUNwRixpQkFBaUI7Z0JBQ2pCLDZCQUE2QjtnQkFDN0IsSUFBSTtnQkFDSixJQUFJQSxNQUFNO29CQUNORSxNQUFNMkIsUUFBUSxHQUFHN0IsS0FBSzhCLElBQUk7b0JBQzFCNUIsTUFBTWEsSUFBSSxHQUFHZixLQUFLZSxJQUFJO2dCQUMxQixDQUFDO2dCQUNELE9BQU9iO1lBQ1g7WUFDQSxNQUFNNkIsU0FBUSxFQUFFQSxRQUFPLEVBQUU3QixNQUFLLEVBQUVGLEtBQUksRUFBRSxFQUFFO2dCQUNwQyxtRkFBbUY7Z0JBQ25GLG1DQUFtQztnQkFDbkMsaUNBQWlDO2dCQUNqQytCLFFBQVEvQixJQUFJLENBQUM2QixRQUFRLEdBQUczQixNQUFNMkIsUUFBUTtnQkFDdENFLFFBQVEvQixJQUFJLENBQUNlLElBQUksR0FBR2IsTUFBTWEsSUFBSTtnQkFDOUIsT0FBT2dCO1lBQ1g7UUFDSjtJQUNKO0lBRUEsT0FBT2pEO0FBQ1gsRUFBRTtBQUVhLGVBQWVrRCxRQUFRcEQsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDNUMsT0FBTyxNQUFNUixnREFBUUEsQ0FBQ08sS0FBS0MsS0FBS0YsbUJBQW1CQyxLQUFLQztBQUM1RCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmVfc3RhbmRhcmQvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzPzUyN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRBdXRoIGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IHNlcmlhbGl6ZSB9IGZyb20gJ2Nvb2tpZSc7XG5pbXBvcnQgeyBlbmNyeXB0LCBsaXN0aW5nTWVudSB9IGZyb20gJy4uLy4uLy4uL3V0aWxpdGllcy9lbmNyeXB0JztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmV4cG9ydCBjb25zdCBnZXROZXh0QXV0aE9wdGlvbnMgPSAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBhdXRoT3B0aW9ucyA9IHtcbiAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgICAgICAgICAgICAvLyBDcmVkZW50aWFscyBwcm92aWRlciBjb25maWd1cmF0aW9uXG4gICAgICAgICAgICAgICAgbmFtZTogJ2NyZWRlbnRpYWxzJyxcblxuICAgICAgICAgICAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgICAgICAvLyMgdmVyc2kgYXdhbFxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9sb2dpbmAsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICBib2R5OiBKU09OLnN0cmluZ2lmeSh7ZW1haWw6Y3JlZGVudGlhbHM/LmVtYWlsLHBhc3N3b3JkOmNyZWRlbnRpYWxzPy5wYXNzd29yZH0pLFxuICAgICAgICAgICAgICAgICAgICAvLyAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfVxuICAgICAgICAgICAgICAgICAgICAvLyB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXhpb3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYCR7cHJvY2Vzcy5lbnYuQVBJX1VSTH0vYXBpL2xvZ2luYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7IGVtYWlsOiBjcmVkZW50aWFscz8uZW1haWwsIHBhc3N3b3JkOiBjcmVkZW50aWFscz8ucGFzc3dvcmQsIGFzbG9naW46IGNyZWRlbnRpYWxzPy5hc2xvZ2luIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHJlc3VsdC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8jdmVyc2kgYXdhbCByZXRyaWV2ZSBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCB1c2VyID0gYXdhaXQgcmVzdWx0Lmpzb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXI/Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmNUb2tlbiA9IGVuY3J5cHQodXNlci50b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5fZW5jcnlwdCA9IGVuY1Rva2VuLmVuY3J5cHRlZFRleHQgKyAnLycgKyBlbmNUb2tlbi5pdjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb2tpZXMgPSBzZXJpYWxpemUoJ19BMkYnLCB0b2tlbl9lbmNyeXB0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN1cmU6IGZhbHNlLCAvLyBTZXRlbCBrZSB0cnVlIGppa2EgbWVuZ2d1bmFrYW4gSFRUUFMgZGkgcHJvZHVrc2lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IG5ldyBEYXRlKERhdGUubm93KCkgKyA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gQ29udG9oOiBrZWRhbHV3YXJzYSBkYWxhbSA3IGhhcmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ1NldC1Db29raWUnLCBjb29raWVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBsZXQgbWVudXMgPSBhd2FpdCBsaXN0aW5nTWVudShKU09OLnN0cmluZ2lmeSh1c2VyLm1lbnUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyLm1lbnUgPSB1c2VyPy5tZW51O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBsZXQgbWVudUFyciA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBtZW51QXJyID0gdXNlci5tZW51Lm1hcCgodmFsKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgZW5rcmlwc2kgPSBlbmNyeXB0KHZhbC50byk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxldCByZXNFbmNyaXB0ID0gIGVua3JpcHNpLmVuY3J5cHRlZFRleHQrXCIvXCIrZW5rcmlwc2kuaXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgdG86cmVzRW5jcmlwdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICB1c2VyLm1lbnUgPSBtZW51QXJyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGNvbnN0IHJyID0gSlNPTi5zdHJpbmdpZnkodXNlci5yb2xlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgY29uc3QgZW5jcnlwdFJvbGUgPSBlbmNyeXB0KHJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgdXNlci5yb2xlID0gZW5jcnlwdFJvbGUuZW5jcnlwdGVkVGV4dCtcIi9cIitlbmNyeXB0Um9sZS5pdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVzZXIuZXJyb3IgfHwgJ1Vua25vd24gRXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1lbmFuZ2thcCBkYW4gbWVsZW1wYXIgdWxhbmcgcGVzYW4gZXJyb3IgZGFyaSByZXNwb25zIEFQSVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgZXJyb3IubWVzc2FnZSB8fCAnTG9naW4gZmFpbGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgcGFnZXM6IHtcbiAgICAgICAgICAgIHNpZ25JbjogJy9sb2dpbicsXG4gICAgICAgICAgICBlcnJvcjogJy9sb2dpbicsIC8vIEVycm9yIGNvZGUgcGFzc2VkIGluIHF1ZXJ5IHN0cmluZyBhcyA/ZXJyb3I9XG4gICAgICAgICAgICBzaWduT3V0OiAnL2xvZ2luJ1xuICAgICAgICB9LFxuICAgICAgICBjb29raWVzOiB7XG4gICAgICAgICAgICBzZXNzaW9uVG9rZW46IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBgX0EyUmAsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgICAgICAgICAgICAgIHNlY3VyZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgLy9wYXJhbWV0ZXIgdXNlciBiZXJhc2FsIGRhcmkgY29uc3QgdXNlciBkaSBhdGFzXG4gICAgICAgICAgICBhc3luYyBqd3QoeyB0b2tlbiwgYWNjb3VudCwgdXNlciB9KSB7XG4gICAgICAgICAgICAgICAgLy8gUGVyc2lzdCB0aGUgT0F1dGggYWNjZXNzX3Rva2VuIGFuZCBvciB0aGUgdXNlciBpZCB0byB0aGUgdG9rZW4gcmlnaHQgYWZ0ZXIgc2lnbmluXG4gICAgICAgICAgICAgICAgLy8gaWYgKGFjY291bnQpIHtcbiAgICAgICAgICAgICAgICAvLyAgIHRva2VuLnRva2VuID0gdXNlci50b2tlblxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbi51c2VyUm9sZSA9IHVzZXIucm9sZTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4ubWVudSA9IHVzZXIubWVudTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiwgdXNlciB9KSB7XG4gICAgICAgICAgICAgICAgLy8gU2VuZCBwcm9wZXJ0aWVzIHRvIHRoZSBjbGllbnQsIGxpa2UgYW4gYWNjZXNzX3Rva2VuIGFuZCB1c2VyIGlkIGZyb20gYSBwcm92aWRlci5cbiAgICAgICAgICAgICAgICAvLyBzZXNzaW9uLnVzZXIudG9rZW4gPSB0b2tlbi50b2tlblxuICAgICAgICAgICAgICAgIC8vIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZVxuICAgICAgICAgICAgICAgIHNlc3Npb24udXNlci51c2VyUm9sZSA9IHRva2VuLnVzZXJSb2xlO1xuICAgICAgICAgICAgICAgIHNlc3Npb24udXNlci5tZW51ID0gdG9rZW4ubWVudTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gYXV0aE9wdGlvbnM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gICAgcmV0dXJuIGF3YWl0IE5leHRBdXRoKHJlcSwgcmVzLCBnZXROZXh0QXV0aE9wdGlvbnMocmVxLCByZXMpKTtcbn1cbiJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJzZXJpYWxpemUiLCJlbmNyeXB0IiwibGlzdGluZ01lbnUiLCJheGlvcyIsImdldE5leHRBdXRoT3B0aW9ucyIsInJlcSIsInJlcyIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwibmFtZSIsImF1dGhvcml6ZSIsImNyZWRlbnRpYWxzIiwicmVzdWx0IiwibWV0aG9kIiwidXJsIiwicHJvY2VzcyIsImVudiIsIkFQSV9VUkwiLCJoZWFkZXJzIiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbWFpbCIsInBhc3N3b3JkIiwiYXNsb2dpbiIsInVzZXIiLCJlbmNUb2tlbiIsInRva2VuIiwidG9rZW5fZW5jcnlwdCIsImVuY3J5cHRlZFRleHQiLCJpdiIsImNvb2tpZXMiLCJodHRwT25seSIsInNlY3VyZSIsInNhbWVTaXRlIiwicGF0aCIsImV4cGlyZXMiLCJEYXRlIiwibm93Iiwic2V0SGVhZGVyIiwibWVudSIsIkVycm9yIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJwYWdlcyIsInNpZ25JbiIsInNpZ25PdXQiLCJzZXNzaW9uVG9rZW4iLCJvcHRpb25zIiwiY2FsbGJhY2tzIiwiand0IiwiYWNjb3VudCIsInVzZXJSb2xlIiwicm9sZSIsInNlc3Npb24iLCJoYW5kbGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].js\n");

/***/ }),

/***/ "(api)/./utilities/encrypt.js":
/*!******************************!*\
  !*** ./utilities/encrypt.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"decrypt\": () => (/* binding */ decrypt),\n/* harmony export */   \"encrypt\": () => (/* binding */ encrypt)\n/* harmony export */ });\nconst crypto = __webpack_require__(/*! crypto */ \"crypto\");\nconst algorithm = \"aes-256-cbc\";\nconst password = process.env.TOKEN_SECRET; // Kunci rahasia yang digunakan untuk enkripsi dan dekripsi\nfunction encrypt(text) {\n    const iv = crypto.randomBytes(16);\n    const key = crypto.pbkdf2Sync(password, iv, 100000, 32, \"sha512\");\n    // const key = crypto.scryptSync(password, iv, 32);\n    const cipher = crypto.createCipheriv(algorithm, key, iv);\n    let encrypted = cipher.update(text, \"utf8\", \"hex\");\n    encrypted += cipher.final(\"hex\");\n    return {\n        iv: iv.toString(\"hex\"),\n        encryptedText: encrypted\n    };\n}\nfunction decrypt(encryptedText) {\n    const value = encryptedText.split(\"/\");\n    const iv = Buffer.from(value[1], \"hex\");\n    const key = crypto.pbkdf2Sync(password, iv, 100000, 32, \"sha512\");\n    const decipher = crypto.createDecipheriv(algorithm, key, iv);\n    let decrypted = decipher.update(value[0], \"hex\", \"utf8\");\n    decrypted += decipher.final(\"utf8\");\n    return decrypted;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlsaXRpZXMvZW5jcnlwdC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLE1BQU1BLFNBQVNDLG1CQUFPQSxDQUFDO0FBRXZCLE1BQU1DLFlBQVk7QUFDbEIsTUFBTUMsV0FBV0MsUUFBUUMsR0FBRyxDQUFDQyxZQUFZLEVBQUUsMkRBQTJEO0FBRS9GLFNBQVNDLFFBQVFDLElBQUksRUFBRTtJQUMxQixNQUFNQyxLQUFLVCxPQUFPVSxXQUFXLENBQUM7SUFDOUIsTUFBTUMsTUFBTVgsT0FBT1ksVUFBVSxDQUFDVCxVQUFVTSxJQUFJLFFBQVEsSUFBSTtJQUN4RCxtREFBbUQ7SUFDbkQsTUFBTUksU0FBU2IsT0FBT2MsY0FBYyxDQUFDWixXQUFXUyxLQUFLRjtJQUNyRCxJQUFJTSxZQUFZRixPQUFPRyxNQUFNLENBQUNSLE1BQU0sUUFBUTtJQUM1Q08sYUFBYUYsT0FBT0ksS0FBSyxDQUFDO0lBQzFCLE9BQU87UUFDSFIsSUFBSUEsR0FBR1MsUUFBUSxDQUFDO1FBQ2hCQyxlQUFlSjtJQUNuQjtBQUNKLENBQUM7QUFFTSxTQUFTSyxRQUFRRCxhQUFhLEVBQUU7SUFDbkMsTUFBTUUsUUFBUUYsY0FBY0csS0FBSyxDQUFDO0lBQ2xDLE1BQU1iLEtBQUtjLE9BQU9DLElBQUksQ0FBQ0gsS0FBSyxDQUFDLEVBQUUsRUFBRTtJQUNqQyxNQUFNVixNQUFNWCxPQUFPWSxVQUFVLENBQUNULFVBQVVNLElBQUksUUFBUSxJQUFJO0lBQ3hELE1BQU1nQixXQUFXekIsT0FBTzBCLGdCQUFnQixDQUFDeEIsV0FBV1MsS0FBS0Y7SUFDekQsSUFBSWtCLFlBQVlGLFNBQVNULE1BQU0sQ0FBQ0ssS0FBSyxDQUFDLEVBQUUsRUFBRSxPQUFPO0lBQ2pETSxhQUFhRixTQUFTUixLQUFLLENBQUM7SUFDNUIsT0FBT1U7QUFDWCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmVfc3RhbmRhcmQvLi91dGlsaXRpZXMvZW5jcnlwdC5qcz8yYWUyIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuXG5jb25zdCBhbGdvcml0aG0gPSAnYWVzLTI1Ni1jYmMnO1xuY29uc3QgcGFzc3dvcmQgPSBwcm9jZXNzLmVudi5UT0tFTl9TRUNSRVQ7IC8vIEt1bmNpIHJhaGFzaWEgeWFuZyBkaWd1bmFrYW4gdW50dWsgZW5rcmlwc2kgZGFuIGRla3JpcHNpXG5cbmV4cG9ydCBmdW5jdGlvbiBlbmNyeXB0KHRleHQpIHtcbiAgICBjb25zdCBpdiA9IGNyeXB0by5yYW5kb21CeXRlcygxNik7XG4gICAgY29uc3Qga2V5ID0gY3J5cHRvLnBia2RmMlN5bmMocGFzc3dvcmQsIGl2LCAxMDAwMDAsIDMyLCAnc2hhNTEyJyk7XG4gICAgLy8gY29uc3Qga2V5ID0gY3J5cHRvLnNjcnlwdFN5bmMocGFzc3dvcmQsIGl2LCAzMik7XG4gICAgY29uc3QgY2lwaGVyID0gY3J5cHRvLmNyZWF0ZUNpcGhlcml2KGFsZ29yaXRobSwga2V5LCBpdik7XG4gICAgbGV0IGVuY3J5cHRlZCA9IGNpcGhlci51cGRhdGUodGV4dCwgJ3V0ZjgnLCAnaGV4Jyk7XG4gICAgZW5jcnlwdGVkICs9IGNpcGhlci5maW5hbCgnaGV4Jyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXY6IGl2LnRvU3RyaW5nKCdoZXgnKSwgLy8gS29udmVyc2kgSVYga2Ugc3RyaW5nIGhleCB1bnR1ayBwZW55aW1wYW5hblxuICAgICAgICBlbmNyeXB0ZWRUZXh0OiBlbmNyeXB0ZWRcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjcnlwdChlbmNyeXB0ZWRUZXh0KSB7XG4gICAgY29uc3QgdmFsdWUgPSBlbmNyeXB0ZWRUZXh0LnNwbGl0KCcvJyk7XG4gICAgY29uc3QgaXYgPSBCdWZmZXIuZnJvbSh2YWx1ZVsxXSwgJ2hleCcpO1xuICAgIGNvbnN0IGtleSA9IGNyeXB0by5wYmtkZjJTeW5jKHBhc3N3b3JkLCBpdiwgMTAwMDAwLCAzMiwgJ3NoYTUxMicpO1xuICAgIGNvbnN0IGRlY2lwaGVyID0gY3J5cHRvLmNyZWF0ZURlY2lwaGVyaXYoYWxnb3JpdGhtLCBrZXksIGl2KTtcbiAgICBsZXQgZGVjcnlwdGVkID0gZGVjaXBoZXIudXBkYXRlKHZhbHVlWzBdLCAnaGV4JywgJ3V0ZjgnKTtcbiAgICBkZWNyeXB0ZWQgKz0gZGVjaXBoZXIuZmluYWwoJ3V0ZjgnKTtcbiAgICByZXR1cm4gZGVjcnlwdGVkO1xufVxuIl0sIm5hbWVzIjpbImNyeXB0byIsInJlcXVpcmUiLCJhbGdvcml0aG0iLCJwYXNzd29yZCIsInByb2Nlc3MiLCJlbnYiLCJUT0tFTl9TRUNSRVQiLCJlbmNyeXB0IiwidGV4dCIsIml2IiwicmFuZG9tQnl0ZXMiLCJrZXkiLCJwYmtkZjJTeW5jIiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJlbmNyeXB0ZWQiLCJ1cGRhdGUiLCJmaW5hbCIsInRvU3RyaW5nIiwiZW5jcnlwdGVkVGV4dCIsImRlY3J5cHQiLCJ2YWx1ZSIsInNwbGl0IiwiQnVmZmVyIiwiZnJvbSIsImRlY2lwaGVyIiwiY3JlYXRlRGVjaXBoZXJpdiIsImRlY3J5cHRlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utilities/encrypt.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/auth/[...nextauth].js"));
module.exports = __webpack_exports__;

})();